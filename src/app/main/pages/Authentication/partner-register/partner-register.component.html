<div id="login" #myList fxLayout="column">
    <div id="login-form-wrapper" fxLayout="column" fxLayoutAlign="start center">
        <div class="my-24">
            <img width="200" src="/assets/images/betterDeal/beterdeal_logo.png" />
        </div>
        <div class="title">Let's get started now!</div>
        <!-- <div class="title-detail">
            Or
            <a
                class="title-detail"
                [routerLink]="'/login'"
                style="text-decoration: underline;"
                >Sign in</a
            >
            if registered
        </div> -->
        <div id="login-form" class="p-24">
            <form [formGroup]="firstFormGroup">
                <div class="title-head">What's your address?</div>
                <mat-form-field appearance="outline">
                    <mat-label>Enter post code</mat-label>
                    <input
                        matInput
                        id="postalcode_text"
                        placeholder="Enter post code"
                        [(ngModel)]="PostCode"
                        formControlName="PostCode"
                        (change)="validatePostalcode()"
                    />
                    <mat-error *ngIf="firstFormGroupErrors.PostCode.required">
                        Business Name is
                    </mat-error>
                </mat-form-field>
                <div>
                    <mat-form-field appearance="outline">
                        <mat-label>Address</mat-label>
                        <mat-select
                            id="mat-select"
                            [(ngModel)]="selectedValue"
                            [ngModelOptions]="{ standalone: true }"
                            (selectionChange)="selectAddress($event)"
                            placeholder="Address"
                        >
                            <mat-option
                                *ngFor="let add of Address"
                                [value]="add['#cdata-section']"
                            >
                                {{ add["#cdata-section"] }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div *ngIf="selectedValue == 'Enter address manually'">
                    <div>
                        <mat-form-field appearance="outline">
                            <mat-label
                                >House name / Number / Flat number*</mat-label
                            >
                            <input
                                matInput
                                placeholder="House name / Number / Flat number*"
                                formControlName="HouseName"
                            />
                        </mat-form-field>
                    </div>
                    <div>
                        <mat-form-field appearance="outline">
                            <mat-label>Street name*</mat-label>
                            <input
                                matInput
                                placeholder="Street name*"
                                formControlName="StreetName"
                            />
                        </mat-form-field>
                    </div>
                    <div>
                        <mat-form-field appearance="outline">
                            <mat-label>Town / City *</mat-label>
                            <input
                                matInput
                                placeholder="Town / City*"
                                formControlName="City"
                            />
                        </mat-form-field>
                    </div>
                    <div>
                        <mat-form-field appearance="outline">
                            <mat-label>Country *</mat-label>
                            <input
                                matInput
                                placeholder="Country*"
                                formControlName="Country"
                            />
                        </mat-form-field>
                    </div>
                    <div>
                        <mat-form-field appearance="outline">
                            <mat-label
                                >Your gas meter point reference no.(If
                                Applicable)</mat-label
                            >
                            <input
                                matInput
                                placeholder="Your gas meter point reference no."
                                formControlName="GasMPRNnumber"
                                numbersOnly
                            />
                            <mat-error
                                *ngIf="
                                    firstFormGroupErrors.GasMPRNnumber.maxlength
                                "
                            >
                                Maximum of 10 Digits
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div>
                        <mat-form-field appearance="outline">
                            <mat-label
                                >Your electricity supply (S) number*</mat-label
                            >
                            <input
                                matInput
                                (keyup.enter)="checkMPAN($event.target.value)"
                                placeholder="Your electricity supply (S) number*"
                                formControlName="ElectricitySupplyNumber"
                                numbersOnly
                            />
                            <mat-error
                                *ngIf="
                                    firstFormGroupErrors.ElectricitySupplyNumber
                                        .maxlength
                                "
                            >
                                Maximum of 13 Digits
                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <div class="title-head">What would you like to switch?</div>
                <div>
                    <div class="selection-wrapper">
                        <mat-radio-group
                            formControlName="EnergyTypeID"
                            [(ngModel)]="switchinType"
                            fxLayout="row"
                            fxLayout.lt-md="column"
                            fxLayoutAlign.lt-md="start center"
                            fxLayoutAlign="space-between center"
                            aria-label="Select an option"
                            (change)="electricityTypeChange($event)"
                        >
                            <div fxFlex="50" class="radio-button">
                                <mat-radio-button [value]="1">
                                    <div fxLayoutAlign="start center">
                                        <img
                                            width="35"
                                            src="assets/images/betterDeal/gas.png"
                                        />
                                        <img
                                            width="35"
                                            src="assets/images/betterDeal/electricity-1.png"
                                        /><span fxHide fxShow.gt-sm class="ml-8"
                                            >Gas & Electricity</span
                                        >
                                    </div>
                                </mat-radio-button>
                            </div>
                            <div fxLayoutAlign="center center" class="p-12">
                                OR
                            </div>
                            <div fxFlex="50" class="radio-button">
                                <mat-radio-button [value]="2">
                                    <div
                                        fxLayout.lt-md="column"
                                        fxLayoutAlign="start center"
                                    >
                                        <img
                                            width="35"
                                            src="assets/images/betterDeal/electricity-1.png"
                                        />
                                        <span fxHide fxShow.gt-sm class="ml-8"
                                            >Electricity</span
                                        >
                                    </div>
                                </mat-radio-button>
                            </div>
                        </mat-radio-group>
                    </div>
                </div>
                <div>
                    <div class="title-head">How much energy do you use?</div>
                    <div class="selection-wrapper">
                        <mat-radio-group
                            formControlName="EnergyUsageID"
                            (change)="electricityChange($event)"
                            aria-label="Select an option"
                            [(ngModel)]="electricityUse"
                        >
                            <div class="energy-use-radio mb-12 p-0">
                                <mat-radio-button [value]="0">
                                    <span>I know how much I spend (Â£)</span>
                                </mat-radio-button>
                            </div>
                            <div class="energy-use-radio mb-12 p-0">
                                <mat-radio-button [value]="1">
                                    <span>I know how much I use (kWh)</span>
                                </mat-radio-button>
                            </div>

                            <div class="energy-use-radio p-0">
                                <mat-radio-button [value]="2">
                                    <span>Help me estimate</span>
                                </mat-radio-button>
                            </div>
                        </mat-radio-group>
                    </div>
                </div>
                <div>
                    <div class="title-head">
                        Do you have an Economy 7 or 10 meter at home?
                    </div>
                    <div class="selection-wrapper">
                        <mat-radio-group
                            formControlName="IsElectricMeterReading"
                            fxLayout.lt-sm="column"
                            [(ngModel)]="economicMeter"
                            aria-label="Select an option"
                        >
                            <div fxFlex="50" class="energy-use-radio">
                                <mat-radio-button
                                    (change)="radioChange(1)"
                                    [value]="1"
                                >
                                    <span>Yes</span>
                                </mat-radio-button>
                            </div>
                            <div fxFlex="50" class="energy-use-radio">
                                <mat-radio-button
                                    (change)="radioChange(2)"
                                    [value]="2"
                                >
                                    <span>No</span>
                                </mat-radio-button>
                            </div>

                            <div fxFlex="50" class="energy-use-radio">
                                <mat-radio-button
                                    (change)="radioChange(3)"
                                    [value]="3"
                                >
                                    <span>I don't know</span>
                                </mat-radio-button>
                            </div>
                        </mat-radio-group>
                    </div>
                </div>
                <div>
                    <div class="title-head" *ngIf="electricityUse == '0'">
                        I know how much I spend (Â£)
                    </div>
                    <div class="title-head" *ngIf="electricityUse == '1'">
                        I know how much I use (kWh)
                    </div>
                    <div class="title-head" *ngIf="electricityUse == '2'">
                        Help me estimate
                    </div>

                    <div *ngIf="electricityUse == '0'">
                        <div
                            *ngIf="daynightusage == false"
                            fxLayoutAlign="start center"
                            class="title-head"
                        >
                            Electricity
                        </div>
                        <div
                            *ngIf="daynightusage == false"
                            fxLayout="row"
                            fxLayoutGap="12px"
                        >
                            <div fxFlex="50">
                                <mat-form-field
                                    class="w-100-p"
                                    appearance="outline"
                                >
                                    <mat-label>Cost</mat-label>
                                    <input
                                        matInput
                                        placeholder="Cost"
                                        oninput="validity.valid||(value='');"
                                        min="0"
                                        type="number"
                                        formControlName="ElectricityConsumption"
                                    />
                                    <span matPrefix>Â£</span>
                                </mat-form-field>
                            </div>
                            <div fxFlex="50">
                                <mat-form-field
                                    class="w-100-p"
                                    appearance="outline"
                                >
                                    <mat-label>Period</mat-label>
                                    <mat-select
                                        placeholder="Period"
                                        formControlName="ElectricityConsumptionPeriodID"
                                    >
                                        <mat-option
                                            *ngFor="let add of period"
                                            [value]="add.Id"
                                        >
                                            {{ add.Value }}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                        <div
                            *ngIf="daynightusage == true"
                            fxLayoutAlign="start center"
                            class="title-head"
                        >
                            Electricity
                        </div>
                        <div
                            *ngIf="daynightusage == true"
                            fxLayout="row"
                            fxLayoutGap="12px"
                        >
                            <div fxFlex="50">
                                <mat-form-field
                                    class="w-100-p"
                                    appearance="outline"
                                >
                                    <mat-label>Cost</mat-label>
                                    <input
                                        matInput
                                        placeholder="Cost"
                                        oninput="validity.valid||(value='');"
                                        min="0"
                                        type="number"
                                        formControlName="Electricity_Day_Consumption"
                                    />
                                    <span matPrefix>Â£</span>
                                </mat-form-field>
                            </div>
                            <div fxFlex="50">
                                <mat-form-field
                                    class="w-100-p"
                                    appearance="outline"
                                >
                                    <mat-label>Period</mat-label>
                                    <mat-select
                                        placeholder="Period"
                                        formControlName="Electricity_Day_ConsumptionPeriodID"
                                    >
                                        <mat-option
                                            *ngFor="let add of period"
                                            [value]="add.Id"
                                        >
                                            {{ add.Value }}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                        <div
                            *ngIf="daynightusage == true"
                            fxLayoutAlign="start center"
                            class="title-head"
                        >
                            What percentage of Electricity is used at night?
                        </div>
                        <div
                            *ngIf="daynightusage == true"
                            fxLayout="row"
                            fxLayoutGap="12px"
                        >
                            <div fxFlex="50">
                                <mat-form-field
                                    class="w-100-p"
                                    appearance="outline"
                                >
                                    <mat-label>
                                        Percentage used at night</mat-label
                                    >
                                    <input
                                        matInput
                                        placeholder="Percentage used at night"
                                        oninput="validity.valid||(value='');"
                                        min="0"
                                        type="number"
                                        formControlName="Electricity_Night_Consumption"
                                    />
                                    <!-- <span matPrefix>Â£</span> -->
                                </mat-form-field>
                            </div>
                            <div fxFlex="50">
                                <!-- <mat-form-field class="w-100-p" appearance="outline">
                                <mat-label>Period</mat-label>
                                <mat-select placeholder="Period"
                                    formControlName="Electricity_Night_ConsumptionPeriodId">
                                    <mat-option *ngFor="let add of
                                        period" [value]="add.Id">
                                        {{add.Value}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field> -->
                            </div>
                        </div>
                        <div *ngIf="switchinType == '1'">
                            <div
                                fxLayoutAlign="start center"
                                class="title-head"
                            >
                                Gas
                            </div>
                            <div fxLayout="row" fxLayoutGap="12px">
                                <div fxFlex="50">
                                    <mat-form-field
                                        class="w-100-p"
                                        appearance="outline"
                                    >
                                        <mat-label>Cost</mat-label>
                                        <input
                                            matInput
                                            placeholder="Cost"
                                            oninput="validity.valid||(value='');"
                                            min="0"
                                            type="number"
                                            formControlName="GasConsumption"
                                        />
                                        <span matPrefix>Â£</span>
                                    </mat-form-field>
                                </div>
                                <div fxFlex="50">
                                    <mat-form-field
                                        class="w-100-p"
                                        appearance="outline"
                                    >
                                        <mat-label>Period</mat-label>
                                        <mat-select
                                            placeholder="Period"
                                            formControlName="GasConsumptionPeriodID"
                                        >
                                            <mat-option
                                                *ngFor="let add of period"
                                                [value]="add.Id"
                                            >
                                                {{ add.Value }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="electricityUse == '1'">
                        <div
                            *ngIf="daynightusage == false"
                            fxLayoutAlign="start center"
                            class="title-head"
                        >
                            Electricity
                        </div>
                        <div
                            *ngIf="daynightusage == false"
                            fxLayout="row"
                            fxLayoutGap="12px"
                        >
                            <div fxFlex="50">
                                <mat-form-field
                                    class="w-100-p"
                                    appearance="outline"
                                >
                                    <mat-label>kWh</mat-label>
                                    <input
                                        matInput
                                        placeholder="kWh"
                                        oninput="validity.valid||(value='');"
                                        min="0"
                                        type="number"
                                        formControlName="ElectricityConsumption"
                                    />
                                </mat-form-field>
                            </div>
                            <div fxFlex="50">
                                <mat-form-field
                                    class="w-100-p"
                                    appearance="outline"
                                >
                                    <mat-label>Period</mat-label>
                                    <mat-select
                                        placeholder="Period"
                                        formControlName="ElectricityConsumptionPeriodID"
                                    >
                                        <mat-option
                                            *ngFor="let add of period"
                                            [value]="add.Id"
                                        >
                                            {{ add.Value }}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                        <div
                            *ngIf="daynightusage == true"
                            fxLayoutAlign="start center"
                            class="title-head"
                        >
                            Electricity
                        </div>
                        <div
                            *ngIf="daynightusage == true"
                            fxLayout="row"
                            fxLayoutGap="12px"
                        >
                            <div fxFlex="50">
                                <mat-form-field
                                    class="w-100-p"
                                    appearance="outline"
                                >
                                    <mat-label>kWh</mat-label>
                                    <input
                                        matInput
                                        placeholder="kWh"
                                        oninput="validity.valid||(value='');"
                                        min="0"
                                        type="number"
                                        formControlName="Electricity_Day_Consumption"
                                    />
                                </mat-form-field>
                            </div>
                            <div fxFlex="50">
                                <mat-form-field
                                    class="w-100-p"
                                    appearance="outline"
                                >
                                    <mat-label>Period</mat-label>
                                    <mat-select
                                        placeholder="Period"
                                        formControlName="Electricity_Day_ConsumptionPeriodID"
                                    >
                                        <mat-option
                                            *ngFor="let add of period"
                                            [value]="add.Id"
                                        >
                                            {{ add.Value }}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                        <div
                            *ngIf="daynightusage == true"
                            fxLayoutAlign="start center"
                            class="title-head"
                        >
                            What percentage of Electricity is used at night?
                        </div>
                        <div
                            *ngIf="daynightusage == true"
                            fxLayout="row"
                            fxLayoutGap="12px"
                        >
                            <div fxFlex="50">
                                <mat-form-field
                                    class="w-100-p"
                                    appearance="outline"
                                >
                                    <mat-label
                                        >Percentage used at night</mat-label
                                    >
                                    <input
                                        matInput
                                        placeholder="Percentage used at night"
                                        oninput="validity.valid||(value='');"
                                        min="0"
                                        type="number"
                                        formControlName="Electricity_Night_Consumption"
                                    />
                                </mat-form-field>
                            </div>
                            <div fxFlex="50">
                                <!-- <mat-form-field class="w-100-p" appearance="outline">
                                <mat-label>Period</mat-label>
                                <mat-select placeholder="Period"
                                    formControlName="Electricity_Night_ConsumptionPeriodId">
                                    <mat-option *ngFor="let add of
                                        period" [value]="add.Id">
                                        {{add.Value}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field> -->
                            </div>
                        </div>
                        <div *ngIf="switchinType == '1'">
                            <div
                                fxLayoutAlign="start center"
                                class="title-head"
                            >
                                Gas
                            </div>
                            <div fxLayout="row" fxLayoutGap="12px">
                                <div fxFlex="50">
                                    <mat-form-field
                                        class="w-100-p"
                                        appearance="outline"
                                    >
                                        <mat-label>kWh</mat-label>
                                        <input
                                            matInput
                                            placeholder="kWh"
                                            oninput="validity.valid||(value='');"
                                            min="0"
                                            type="number"
                                            formControlName="GasConsumption"
                                        />
                                    </mat-form-field>
                                </div>
                                <div fxFlex="50">
                                    <mat-form-field
                                        class="w-100-p"
                                        appearance="outline"
                                    >
                                        <mat-label>Period</mat-label>
                                        <mat-select
                                            placeholder="Period"
                                            formControlName="GasConsumptionPeriodID"
                                        >
                                            <mat-option
                                                *ngFor="let add of period"
                                                [value]="add.Id"
                                            >
                                                {{ add.Value }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="electricityUse == '2'">
                        <div
                            class="selection-wrapper"
                            [ngClass]="{
                                'invalid-phone-number': Isvalid == false
                            }"
                        >
                            <mat-radio-group
                                fxLayout="row"
                                fxLayout.lt-md="column"
                                formControlName="TypeOfHome"
                                fxLayoutAlign.lt-md="start center"
                                fxLayoutAlign="space-between center"
                                aria-label="Select an option"
                            >
                                <div
                                    fxFlex="50"
                                    fxLayoutAlign="start
                                center"
                                    class="radio-button"
                                >
                                    <mat-radio-button [value]="1">
                                        <div fxLayoutAlign="start center">
                                            <!-- <img width="50" src="assets/images/logos/small.png" /> -->
                                            <span
                                                fxHide
                                                fxShow.gt-sm
                                                class="ml-8"
                                                >Low</span
                                            >
                                        </div>
                                    </mat-radio-button>
                                </div>
                                <div fxLayoutAlign="center center" class="p-12">
                                    OR
                                </div>
                                <div
                                    fxLayoutAlign="start center"
                                    fxFlex="50"
                                    class="radio-button"
                                >
                                    <mat-radio-button [value]="2">
                                        <div
                                            fxLayout.lt-md="column"
                                            fxLayoutAlign="start center"
                                        >
                                            <!-- <img width="50" src="assets/images/logos/medium.png" /> -->
                                            <span
                                                fxHide
                                                fxShow.gt-sm
                                                class="ml-8"
                                                >Medium</span
                                            >
                                        </div>
                                    </mat-radio-button>
                                </div>
                                <div fxLayoutAlign="center center" class="p-12">
                                    OR
                                </div>
                                <div
                                    fxLayoutAlign="start center"
                                    fxFlex="50"
                                    class="radio-button"
                                >
                                    <mat-radio-button [value]="3">
                                        <div
                                            fxLayout.lt-md="column"
                                            fxLayoutAlign="start center"
                                        >
                                            <!-- <img width="50" src="assets/images/logos/large.png" /> -->
                                            <span
                                                fxHide
                                                fxShow.gt-sm
                                                class="ml-8"
                                                >Large</span
                                            >
                                        </div>
                                    </mat-radio-button>
                                </div>
                            </mat-radio-group>
                        </div>
                    </div>
                </div>
                <div class="title-head">Who is your current supplier?</div>

                <div *ngIf="bothSupplier == true">
                    <mat-form-field class="w-100-p" appearance="outline">
                        <mat-label>Name of supplier</mat-label>
                        <mat-select
                            placeholder="Name of supplier"
                            [ngModelOptions]="{ standalone: true }"
                            [(ngModel)]="bothSameSupplier"
                            (selectionChange)="getplanforboth($event)"
                            [required]="isBothSupplierReq"
                        >
                            <mat-option
                                *ngFor="let add of suppliers"
                                [value]="add.id"
                            >
                                {{ add.name }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-form-field class="w-100-p" appearance="outline">
                        <mat-label>Payment method</mat-label>
                        <mat-select
                            placeholder="Payment method"
                            [ngModelOptions]="{ standalone: true }"
                            [(ngModel)]="bothSamePayment"
                            (selectionChange)="getBothSupplierPlan($event)"
                        >
                            <mat-option
                                *ngFor="let add of dualPaymentData"
                                [value]="add.id"
                            >
                                {{ add.name }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-form-field class="w-100-p" appearance="outline">
                        <mat-label>Plan, if known</mat-label>
                        <mat-select
                            placeholder="Plan, if known"
                            [ngModelOptions]="{ standalone: true }"
                            [(ngModel)]="bothSameSupplierPlan"
                            [required]="isBothSupplierReq"
                        >
                            <mat-option
                                *ngFor="
                                    let add of supplierPlansboth;
                                    let i = index
                                "
                                [value]="add"
                            >
                                {{ add }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>

                <div *ngIf="bothSupplier == false">
                    <div>
                        <div fxLayoutAlign="start center" class="title-head">
                            Electricity
                        </div>
                        <mat-form-field class="w-100-p" appearance="outline">
                            <mat-label>Name of supplier</mat-label>
                            <mat-select
                                placeholder="Name of supplier"
                                formControlName="ElectricityCurrentPlan_SupplierID"
                                (selectionChange)="
                                    getSupplierElectricity($event)
                                "
                            >
                                <mat-option
                                    *ngFor="let add of ElecSupplier"
                                    [value]="add.id"
                                >
                                    {{ add.name }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field class="w-100-p" appearance="outline">
                            <mat-label>Payment method</mat-label>
                            <mat-select
                                formControlName="ElectricityCurrentPlan_PlanPaymentID"
                                placeholder="Payment method"
                                (selectionChange)="getElecSupplierPlan($event)"
                            >
                                <mat-option
                                    *ngFor="let add of paymentMethodElc"
                                    [value]="add.id"
                                >
                                    {{ add.name }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field class="w-100-p" appearance="outline">
                            <mat-label>Plan, if known</mat-label>
                            <mat-select
                                placeholder="Plan, if known"
                                formControlName="ElectricityCurrentPlan_PlanID"
                            >
                                <mat-option
                                    *ngFor="let add of supplierPlansElec"
                                    [value]="add"
                                >
                                    {{ add }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div *ngIf="switchinType == '1'">
                        <div fxLayoutAlign="start center" class="title-head">
                            Gas
                        </div>
                        <mat-form-field class="w-100-p" appearance="outline">
                            <mat-label>Name of supplier</mat-label>
                            <mat-select
                                formControlName="GasCurrentPlan_SupplierID"
                                placeholder="Name of supplier"
                                (selectionChange)="setSupplier($event)"
                            >
                                <mat-option
                                    *ngFor="let add of GasSupplier"
                                    [value]="add.id"
                                >
                                    {{ add.name }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field class="w-100-p" appearance="outline">
                            <mat-label>Payment method</mat-label>
                            <mat-select
                                formControlName="GasCurrentPlan_PlanPaymentID"
                                placeholder="Payment method"
                                (selectionChange)="getGasSupplierPlan($event)"
                            >
                                <mat-option
                                    *ngFor="let add of GasPaymentData"
                                    [value]="add.id"
                                >
                                    {{ add.name }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field class="w-100-p" appearance="outline">
                            <mat-label>Plan, if known</mat-label>
                            <mat-select
                                formControlName="GasCurrentPlan_PlanID"
                                placeholder="Plan, if known"
                            >
                                <mat-option
                                    *ngFor="let add of supplierPlans"
                                    [value]="add"
                                >
                                    {{ add }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>

                <div *ngIf="switchinType == 1" fxLayoutAlign="start start">
                    <mat-checkbox
                        [ngModelOptions]="{ standalone: true }"
                        [(ngModel)]="bothSupplier"
                        (change)="isBothSupplier($event)"
                        >Are you on a dual fuel tariff?
                    </mat-checkbox>
                </div>
                <div fxLayoutAlign="end center">
                    <button
                        mat-flat-button
                        color="accent"
                        (click)="getUserCurrentTariff()"
                    >
                        Get a Quote
                    </button>
                </div>
                <div
                    style="background: white"
                    class="m-0 p-16"
                    id="supplierDetails"
                >
                    <h3
                        *ngIf="!!energy1"
                        style="color: #005a61; text-align: center"
                    >
                        Your new estimated annual energy costs are Â£{{
                            energy1.bill | number: "1.2-2"
                        }}. That's
                        {{ energy1.savingPercentage | number: "1.2-2" }}% lower
                        than your current plan.
                    </h3>
                    <br *ngIf="!!energy1" />
                    <table
                        *ngIf="!!energy1"
                        style="width: 100%"
                        cellspacing="0"
                    >
                        <tr>
                            <th>Supplier</th>
                            <th>Product Term</th>
                            <th>Estimated Annual Cost</th>
                            <th>Estimated Saving</th>
                            <th>Exit Penalty</th>
                        </tr>
                        <tr colspan="2">
                            <td class="bottm-border">
                                <!-- <img *ngIf="IsClickedEmail == false" widtsupplierDetailsh="70" [src]="energy1.imageName" /> -->
                                <span>{{ energy1.supplierName }}</span>
                            </td>
                            <td class="border-td bottm-border">
                                {{ energy1.contractLength }} months
                            </td>
                            <td class="border-td" rowspan="2">
                                Â£{{ energy1.bill | number: "1.2-2" }}
                            </td>
                            <td class="border-td" rowspan="2">
                                Â£{{ energy1.saving | number: "1.2-2" }} ({{
                                    energy1.savingPercentage | number: "1.2-2"
                                }}%)
                            </td>
                            <td rowspan="2">0</td>
                        </tr>
                        <tr>
                            <td class="border-td" colspan="2">
                                <img
                                    width="200"
                                    src="assets/images/logos/LowestTariff-plan.png"
                                />
                            </td>
                        </tr>
                    </table>

                    <h1
                        *ngIf="emergyType != 2 && !!currentEnergyGas"
                        style="color: #005a61"
                    >
                        About your Gas Tariff
                    </h1>
                    <br *ngIf="!!currentEnergyGas" />
                    <table
                        *ngIf="emergyType != 2 && !!currentEnergyGas"
                        id="customers"
                    >
                        <tr>
                            <th>Rates inc VAT</th>
                            <th class="existing-trf">Existing Tariff</th>
                            <th>New Tariff</th>
                        </tr>
                        <tr>
                            <td>Supplier</td>
                            <td class="existing-trf">
                                {{ currentEnergyGas.supplierName }}
                            </td>
                            <td>{{ energy.supplierName }}</td>
                        </tr>
                        <tr>
                            <td>Tariff name</td>
                            <td class="existing-trf">
                                {{ currentEnergyGas.tariffName }}
                            </td>
                            <td>Lowest Tariff Bespoke Plan</td>
                        </tr>
                        <tr>
                            <td>Tariff type</td>
                            <td class="existing-trf">
                                {{ currentEnergyGas.tariffType }}
                            </td>
                            <td>{{ energy.tariffType }}</td>
                        </tr>
                        <tr>
                            <td>Payment method</td>
                            <td class="existing-trf">
                                {{ currentEnergyGas.paymentMethodName }}
                            </td>
                            <td>Monthly Direct Debit</td>
                        </tr>
                        <tr>
                            <td>Unit rate</td>
                            <td class="existing-trf">
                                {{
                                    currentEnergyGas.pricePerUnit
                                        | number: "1.2-2"
                                }}p per kWh
                            </td>
                            <td>
                                {{ energy.price1Gas | number: "1.2-2" }}p per
                                kWh
                            </td>
                        </tr>
                        <tr>
                            <td>Standing charge</td>
                            <td class="existing-trf">
                                {{
                                    currentEnergyGas.standingChargeDaily
                                        | number: "1.2-2"
                                }}p per day
                            </td>
                            <td>
                                {{
                                    energy.standingChargeGas | number: "1.2-2"
                                }}p per day
                            </td>
                        </tr>
                        <tr>
                            <td>Tariff ends on</td>
                            <td class="existing-trf">12 Months</td>
                            <td>12 Months</td>
                        </tr>
                        <tr>
                            <td>Price guaranteed until</td>
                            <td class="existing-trf">Permanently</td>
                            <td>Permanently</td>
                        </tr>
                        <tr>
                            <td>Exit fees</td>
                            <td class="existing-trf">Â£ 0</td>
                            <td>Â£ 0</td>
                        </tr>
                        <tr>
                            <td>Discounts and additional charges</td>
                            <td class="existing-trf">Â£ 0</td>
                            <td>Â£ 0</td>
                        </tr>
                        <!-- <tr>
                                <td>Average monthly direct debit</td>
                                <td>Â£ {{currentEnergyGas.bill | number : '1.2-2'}}</td>
                                <td>Â£ {{averageMonth | number : '1.2-2'}}</td>
                              </tr> -->
                    </table>

                    <br *ngIf="!!currentEnergyElc" />
                    <br *ngIf="!!currentEnergyElc" />
                    <h1 *ngIf="!!currentEnergyElc" style="color: #005a61">
                        About your Electricity Tariff
                    </h1>
                    <br />
                    <table *ngIf="!!currentEnergyElc" id="customers">
                        <tr>
                            <th>Rates inc VAT</th>
                            <th class="existing-trf">Existing Tariff</th>
                            <th>New Tariff</th>
                        </tr>
                        <tr>
                            <td>Supplier</td>
                            <td class="existing-trf">
                                {{ currentEnergyElc.supplierName }}
                            </td>
                            <td>{{ energy.supplierName }}</td>
                        </tr>
                        <tr>
                            <td>Tariff name</td>
                            <td class="existing-trf">
                                {{ currentEnergyElc.tariffName }}
                            </td>
                            <td>Lowest Tariff Bespoke Plan</td>
                        </tr>
                        <tr>
                            <td>Tariff type</td>
                            <td class="existing-trf">
                                {{ currentEnergyElc.tariffType }}
                            </td>
                            <td>{{ energy.tariffType }}</td>
                        </tr>
                        <tr>
                            <td>Payment method</td>
                            <td class="existing-trf">
                                {{ currentEnergyElc.paymentMethodName }}
                            </td>
                            <td>Monthly Direct Debit</td>
                        </tr>
                        <tr>
                            <td>Unit rate</td>
                            <td class="existing-trf">
                                {{
                                    currentEnergyElc.pricePerUnit
                                        | number: "1.2-2"
                                }}p per kWh
                            </td>
                            <td>
                                {{ energy.price1Elec | number: "1.2-2" }}p per
                                kWh
                            </td>
                        </tr>
                        <tr>
                            <td>Standing charge</td>
                            <td class="existing-trf">
                                {{
                                    currentEnergyElc.standingChargeDaily
                                        | number: "1.2-2"
                                }}p per day
                            </td>
                            <td>
                                {{
                                    energy.standingChargeElec | number: "1.2-2"
                                }}p per day
                            </td>
                        </tr>
                        <tr>
                            <td>Tariff ends on</td>
                            <td class="existing-trf">12 Months</td>
                            <td>12 Months</td>
                        </tr>
                        <tr>
                            <td>Price guaranteed until</td>
                            <td class="existing-trf">Permanently</td>
                            <td>Permanently</td>
                        </tr>
                        <tr>
                            <td>Exit fees</td>
                            <td class="existing-trf">Â£ 0</td>
                            <td>Â£ 0</td>
                        </tr>
                        <tr>
                            <td>Discounts and additional charges</td>
                            <td class="existing-trf">Â£ 0</td>
                            <td>Â£ 0</td>
                        </tr>
                        <tr style="background: #005a61">
                            <td>
                                <h4 style="color: #fff">
                                    Average monthly Direct Debit (total amount)
                                </h4>
                            </td>
                            <td class="existing-trf">
                                <h4 style="color: #fff">
                                    Â£ {{ avg | number: "1.2-2" }}
                                </h4>
                            </td>
                            <td>
                                <h4 style="color: #fff">
                                    Â£ {{ averageMonth | number: "1.2-2" }}
                                </h4>
                            </td>
                        </tr>
                    </table>
                </div>

                <div class="title-head">Personal details</div>

                <div>
                    <div fxLayoutGap="12px" fxLayoutAlign="start start">
                        <mat-form-field
                            fxFlex="60"
                            fxFlex.lt-md="100"
                            appearance="outline"
                        >
                            <mat-label>Title</mat-label>
                            <mat-select
                                formControlName="Title"
                                placeholder="Title"
                            >
                                <mat-option [value]="0">Mr</mat-option>
                                <mat-option [value]="2">Mrs</mat-option>
                                <mat-option [value]="1">Miss</mat-option>
                                <mat-option [value]="3">Ms</mat-option>
                                <mat-option [value]="4">Dr</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field fxFlex="50" appearance="outline">
                            <mat-label>First name</mat-label>
                            <input
                                matInput
                                placeholder="First name"
                                formControlName="FirstName"
                            />
                        </mat-form-field>
                        <mat-form-field fxFlex="50" appearance="outline">
                            <mat-label>Middle Name</mat-label>
                            <input
                                matInput
                                placeholder="Middle Name"
                                formControlName="middle_initial"
                            />
                        </mat-form-field>
                        <mat-form-field fxFlex="50" appearance="outline">
                            <mat-label>Last name</mat-label>
                            <input
                                matInput
                                placeholder="Last name"
                                formControlName="LastName"
                            />
                        </mat-form-field>
                    </div>

                    <div fxLayoutGap="12px">
                        <mat-form-field fxFlex="50" appearance="outline">
                            <mat-label>Email address</mat-label>
                            <input
                                matInput
                                placeholder="Email address"
                                (change)="validateEmail()"
                                [(ngModel)]="email_add"
                                formControlName="EmailAddress"
                            />
                        </mat-form-field>

                        <div fxLayoutAlign="start start" fxFlex="50">
                            <international-phone-number
                                [ngClass]="{
                                    'invalid-phone-number': IsPhone == false
                                }"
                                fxLayoutAlign="start
                            start"
                                class="input-field"
                                [(ngModel)]="phone_number"
                                (change)="validatePhone()"
                                placeholder="Enter Phone Number"
                                [maxlength]="20"
                                [required]="true"
                                #phoneNumber="ngModel"
                                name="phone_number"
                                [ngModelOptions]="{ standalone: true }"
                            ></international-phone-number>
                        </div>
                        <div fxLayoutAlign="start start" fxFlex="50">
                            <international-phone-number
                                [ngClass]="{
                                    'invalid-phone-number': IsAltPhone == false
                                }"
                                fxLayoutAlign="start
                            start"
                                class="input-field"
                                [(ngModel)]="AlternativeMobileNumber"
                                (change)="validateAltPhone()"
                                placeholder="Enter Alternative Number"
                                [maxlength]="20"
                                [required]="true"
                                #phoneNumber="ngModel"
                                name="phone_number"
                                [ngModelOptions]="{ standalone: true }"
                            ></international-phone-number>
                        </div>
                        <!-- <mat-form-field fxFlex="50" appearance="outline">
                        <mat-label>Alternative No</mat-label>
                        <input matInput placeholder="Alternative No" [(ngModel)]="AlternativeMobileNumber" (change)="validateAltPhone()" formControlName="AlternativeMobileNumber">
                    </mat-form-field> -->
                    </div>
                    <div fxLayoutGap="12px">
                        <mat-form-field
                            fxFlex="60"
                            fxFlex.lt-md="100"
                            appearance="outline"
                        >
                            <mat-label>Date of birth</mat-label>
                            <input
                                (click)="picker.open()"
                                #input
                                matInput
                                [max]="maxDate"
                                [matDatepicker]="picker"
                                placeholder="Date of birth"
                                formControlName="DOB"
                                (click)="picker.open()"
                            />
                            <mat-datepicker-toggle
                                matSuffix
                                [for]="picker"
                            ></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                        </mat-form-field>
                        <mat-form-field fxFlex="50" appearance="outline">
                            <mat-label>Employment status</mat-label>
                            <mat-select
                                formControlName="EmploymentStatusId"
                                placeholder="Employment status"
                            >
                                <mat-option
                                    *ngFor="let add of epmStatus"
                                    [value]="add.Id"
                                >
                                    {{ add.Value }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div fxLayoutGap="12px">
                        <mat-form-field fxFlex="50" appearance="outline">
                            <mat-label>Residential status</mat-label>
                            <mat-select
                                formControlName="ResidentalStatusId"
                                placeholder="Residential status"
                            >
                                <mat-option
                                    *ngFor="let add of resStatusL"
                                    [value]="add.Id"
                                >
                                    {{ add.Value }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field fxFlex="50" appearance="outline">
                            <mat-label>Time at current address</mat-label>
                            <mat-select
                                formControlName="TimeOfCurrentAddress"
                                placeholder="Time at current
                            address"
                            >
                                <mat-option
                                    *ngFor="let add of timeOfCurAdd"
                                    [value]="add.Id"
                                >
                                    {{ add.Value }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>

                    <div fxLayoutGap="12px">
                        <mat-form-field fxFlex="50" appearance="outline">
                            <mat-label>Referral Code</mat-label>
                            <input
                                matInput
                                formControlName="ReferralCode"
                                [readonly]="true"
                                [(ngModel)]="referralcode"
                                placeholder="Referral Code"
                            />
                        </mat-form-field>
                    </div>
                </div>
                <div class="title-head">How would you describe your usage?</div>

                <div>
                    <mat-form-field class="w-100-p" appearance="outline">
                        <mat-label>Type of house</mat-label>
                        <mat-select
                            formControlName="HouseTypeID"
                            placeholder="Type of house"
                        >
                            <mat-option
                                *ngFor="let add of typeOfHouse"
                                [value]="add.Id"
                            >
                                {{ add.Value }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-form-field class="w-100-p" appearance="outline">
                        <mat-label>Family member</mat-label>
                        <mat-select
                            formControlName="FamilyMembersId"
                            placeholder="Family member"
                        >
                            <mat-option
                                *ngFor="let add of familyMember"
                                [value]="add.Id"
                            >
                                {{ add.Value }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-form-field class="w-100-p" appearance="outline">
                        <mat-label>No of rooms</mat-label>
                        <mat-select
                            formControlName="NoOfRoomsId"
                            placeholder="No of rooms"
                        >
                            <mat-option
                                *ngFor="let add of noOfRooms"
                                [value]="add.Id"
                            >
                                {{ add.Value }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="title-head">
                    Complete Sign Up with bank details?
                </div>
                <div class="selection-wrapper">
                    <mat-radio-group
                        fxLayout="row"
                        fxLayout.lt-md="column"
                        formControlName="IsBank"
                        fxLayoutAlign.lt-md="start center"
                        fxLayoutAlign="space-between center"
                        [(ngModel)]="IsBankDetails"
                        aria-label="Select an option"
                    >
                        <div
                            fxFlex="50"
                            fxLayoutAlign="start
                center"
                            class="radio-button"
                        >
                            <mat-radio-button [value]="1">
                                <div fxLayoutAlign="start center">
                                    <span class="ml-8">Yes</span>
                                </div>
                            </mat-radio-button>
                        </div>
                        <div fxLayoutAlign="center center" class="p-12">OR</div>
                        <div
                            fxLayoutAlign="start center"
                            fxFlex="50"
                            class="radio-button"
                        >
                            <mat-radio-button [value]="2">
                                <div
                                    fxLayout.lt-md="column"
                                    fxLayoutAlign="start center"
                                >
                                    <span class="ml-8">No I will do later</span>
                                </div>
                            </mat-radio-button>
                        </div>
                    </mat-radio-group>
                </div>
                <br />
                <div fxLayoutAlign="end center">
                    <button mat-flat-button color="warn" (click)="cancelUser()">
                        Cancel
                    </button>
                    &nbsp;
                    <button
                        mat-flat-button
                        color="accent"
                        (click)="editCustomer()"
                    >
                        Save Now</button
                    >&nbsp;
                    <button
                        mat-flat-button
                        color="accent"
                        (click)="sendEmail()"
                    >
                        Email Quote</button
                    >&nbsp;
                    <button
                        mat-flat-button
                        color="accent"
                        (click)="submitCustomer()"
                    >
                        Submit Now
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
