<div id="dashboard" class="page-layout blank p-24" fusePerfectScrollbar>
    <div class="detail" fxLayoutAlign="space-between center">
        <div class="header-title">
            <p>
                <label [routerLink]="'/admin-dashboard'">Dashboard</label>
                <span>&nbsp;/&nbsp;</span>
                <label [routerLink]="'/supplier-settings'"
                    >Supplier Configuration</label
                >
                <span>&nbsp;/&nbsp;</span>
                <span>Package</span>
            </p>
        </div>

        <div></div>
    </div>
    <p-toast position="center"></p-toast>
    <div class="detail my-24 content">
        <div
            class="p-12 px-24 w-100-p content-filter"
            fxLayout.lt-md="column"
            fxLayoutGap="12px"
            fxLayoutAlign="center center"
        >
            <mat-form-field fxFlex="30" class="search-input">
                <input
                    matInput
                    placeholder="Package Name / Type of House "
                    #filter
                    [formControl]="searchPackage"
                />
                <mat-icon matSuffix>search</mat-icon>
            </mat-form-field>
            <button
                mat-flat-button
                style="background: rgba(199, 203, 234, 0.2)"
                (click)="addReadingMeter()"
            >
                <mat-icon class="white-fg mt-8"> add </mat-icon> <br />
                Add
            </button>
            <!-- <button mat-flat-button color="accent">
                Filter
            </button> -->
        </div>
        <div *ngIf="packages?.length > 0">
            <ngx-datatable
                class="material striped w-100-p"
                [rows]="packages"
                [columnMode]="'force'"
                [headerHeight]="50"
                [scrollbarH]="true"
                [footerHeight]="50"
                [rowHeight]="'auto'"
                [limit]="10"
            >
                <ngx-datatable-column
                    [sortable]="true"
                    prop="Name "
                    name="Name of package"
                >
                    <ng-template
                        let-row="row"
                        let-value="value"
                        ngx-datatable-cell-template
                    >
                        {{ row.Name }}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column
                    [sortable]="true"
                    prop="TypeOfHouse"
                    name="Type of house"
                >
                    <ng-template
                        let-row="row"
                        let-value="value"
                        ngx-datatable-cell-template
                    >
                        {{ row.TypeOfHouse }}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column
                    [sortable]="true"
                    prop="FamilyMembers"
                    name="Family member"
                >
                    <ng-template
                        let-row="row"
                        let-value="value"
                        ngx-datatable-cell-template
                    >
                        {{ row.FamilyMembers }}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column
                    [sortable]="true"
                    prop="TypeOfEnergy"
                    name="Type Of Energy"
                >
                    <ng-template
                        let-row="row"
                        let-value="value"
                        ngx-datatable-cell-template
                    >
                        <span *ngIf="row.TypeOfEnergy == '1'">
                            Gas & Electricity</span
                        >
                        <span *ngIf="row.TypeOfEnergy == '2'">
                            Electricity
                        </span>
                        <span *ngIf="row.TypeOfEnergy == '3'"> Gas </span>
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column
                    [sortable]="true"
                    prop="GasPackageAmount"
                    name="Gas Unit Value"
                >
                    <ng-template
                        let-row="row"
                        let-value="value"
                        ngx-datatable-cell-template
                    >
                        {{ row.GasPackageAmount }}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column
                    [sortable]="true"
                    prop="ElectricityPackageAmount"
                    name="Electricity Unit Value"
                >
                    <ng-template
                        let-row="row"
                        let-value="value"
                        ngx-datatable-cell-template
                    >
                        {{ row.ElectricityPackageAmount }}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column [sortable]="true" name="Status">
                    <ng-template
                        let-row="row"
                        let-value="value"
                        ngx-datatable-cell-template
                    >
                        <span *ngIf="row.Status == 'True'"> Active </span>
                        <span *ngIf="row.Status != 'True'"> Inactive </span>
                    </ng-template>
                </ngx-datatable-column>

                <ngx-datatable-column [sortable]="false" name="Action">
                    <ng-template
                        let-row="row"
                        let-value="value"
                        ngx-datatable-cell-template
                    >
                        <button
                            matTooltip="Edit Package"
                            color="accent"
                            (click)="editPackage(row)"
                            mat-mini-fab
                        >
                            <mat-icon>edit</mat-icon>
                        </button>
                        <button
                            matTooltip="Delete Package"
                            style="background-color: rgb(213, 78, 76)"
                            (click)="deletePackage(row)"
                            mat-mini-fab
                        >
                            <mat-icon>delete</mat-icon>
                        </button>
                    </ng-template>
                </ngx-datatable-column>
            </ngx-datatable>
        </div>
        <div fxLayoutAlign="center center" *ngIf="packages?.length == 0">
            <h1
                style="
                    text-align: center;
                    font-size: medium;
                    position: absolute;
                    top: 50%;
                "
            >
                No Data Found
            </h1>
        </div>
    </div>
</div>
